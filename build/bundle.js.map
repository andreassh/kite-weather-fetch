{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://jobs/./node_modules/cross-fetch/dist/node-ponyfill.js","webpack://jobs/./node_modules/dotenv/lib/main.js","webpack://jobs/./node_modules/tr46/index.js","webpack://jobs/./node_modules/webidl-conversions/lib/index.js","webpack://jobs/./node_modules/whatwg-url/lib/URL-impl.js","webpack://jobs/./node_modules/whatwg-url/lib/URL.js","webpack://jobs/./node_modules/whatwg-url/lib/public-api.js","webpack://jobs/./node_modules/whatwg-url/lib/url-state-machine.js","webpack://jobs/./node_modules/whatwg-url/lib/utils.js","webpack://jobs/external node-commonjs \"fs\"","webpack://jobs/external node-commonjs \"os\"","webpack://jobs/external node-commonjs \"path\"","webpack://jobs/external node-commonjs \"punycode\"","webpack://jobs/external node-commonjs \"stream\"","webpack://jobs/external node-commonjs \"http\"","webpack://jobs/external node-commonjs \"url\"","webpack://jobs/external node-commonjs \"https\"","webpack://jobs/external node-commonjs \"zlib\"","webpack://jobs/./node_modules/node-fetch/lib/index.mjs","webpack://jobs/webpack/bootstrap","webpack://jobs/webpack/runtime/compat get default export","webpack://jobs/webpack/runtime/define property getters","webpack://jobs/webpack/runtime/hasOwnProperty shorthand","webpack://jobs/webpack/runtime/make namespace object","webpack://jobs/./src/errorHandler.ts","webpack://jobs/./src/services/fetch.ts","webpack://jobs/./src/services/fcoo.ts","webpack://jobs/./src/services/api.ts","webpack://jobs/./src/services/fcooForecast.ts","webpack://jobs/./src/services/spot.ts","webpack://jobs/./src/utils/utils.ts","webpack://jobs/./src/services/yr.ts","webpack://jobs/./src/services/yrForecast.ts","webpack://jobs/./src/jobs/fetchForecast.ts","webpack://jobs/./src/utils/yr.ts","webpack://jobs/./src/utils/fcoo.ts","webpack://jobs/./src/jobs/surfability.ts","webpack://jobs/./src/jobs/index.ts"],"sourcesContent":["const nodeFetch = require('node-fetch')\nconst realFetch = nodeFetch.default || nodeFetch\n\nconst fetch = function (url, options) {\n  // Support schemaless URIs on the server for parity with the browser.\n  // Ex: //github.com/ -> https://github.com/\n  if (/^\\/\\//.test(url)) {\n    url = 'https:' + url\n  }\n  return realFetch.call(this, url, options)\n}\n\nfetch.ponyfill = true\n\nmodule.exports = exports = fetch\nexports.fetch = fetch\nexports.Headers = nodeFetch.Headers\nexports.Request = nodeFetch.Request\nexports.Response = nodeFetch.Response\n\n// Needed for TypeScript consumers without esModuleInterop.\nexports.default = fetch\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parser src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = _resolveHome(options.path)\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n  }\n\n  try {\n    // Specifying an encoding returns a string instead of a buffer\n    const parsed = DotenvModule.parse(fs.readFileSync(dotenvPath, { encoding }))\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else {\n        if (override === true) {\n          process.env[key] = parsed[key]\n        }\n\n        if (debug) {\n          if (override === true) {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and WAS overwritten`)\n          } else {\n            _log(`\"${key}\" is already defined in \\`process.env\\` and was NOT overwritten`)\n          }\n        }\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    if (debug) {\n      _log(`Failed to load ${dotenvPath} ${e.message}`)\n    }\n\n    return { error: e }\n  }\n}\n\nconst DotenvModule = {\n  config,\n  parse\n}\n\nmodule.exports.config = DotenvModule.config\nmodule.exports.parse = DotenvModule.parse\nmodule.exports = DotenvModule\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","module.exports = require(\"fs\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"stream\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"http\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"url\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"https\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"zlib\");","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const errorHandler = (props: any, msg?: string) => {\n  throw new Error(msg||`Running job from props ${props} failed`);\n};\n\nexport default errorHandler;\n","import crossFetch from 'cross-fetch';\nexport const fetch = (input: RequestInfo | URL, init?: RequestInit) => crossFetch(input,init);","import dotenv from \"dotenv\";\nimport errorHandler from \"../errorHandler\";\nimport { fetch } from \"./fetch\";\n\ndotenv.config();\n\nconst apiUrl = process.env.FCOO_API_URL||\"https://app.fcoo.dk/metoc/v2\";\nexport type FcooForecastDataAttributes = {\n  lat: number\n  attributes: {\n      units: string\n      long_name: string\n      missing_value: number\n  },\n  lon: number,\n  data: number[],\n  time: string[],\n}\n\nexport type FcooForecastData = {\n  Precipitation: {\n      precip: FcooForecastDataAttributes\n  },\n  WindSpeed: {\n      windspeed: FcooForecastDataAttributes\n  },\n  AirTemperature: {\n      TMP: FcooForecastDataAttributes\n  },\n  Wind: {\n      UGRD: FcooForecastDataAttributes,\n      VGRD: FcooForecastDataAttributes\n  }\n}\n\nexport const getFcooForecast = async (lat:number, long:number):Promise<FcooForecastData> => {\n\n  // NOTE: we must not do this request to often (max 20/s), and not use over 4 decimals for lat,long. otherwise we receive 403\n  // https://developer.yr.no/doc/TermsOfService/\n\n  const url = `${apiUrl}/data/timeseries?variables=Wind,WindSpeed,Precipitation,AirTemperature&lat=${lat.toFixed(4)}&lon=${long.toFixed(4)}`;\n\n  try {\n    console.log('fetching url', url);\n    const res = await fetch(url,{\n      headers: {\n        \"User-Agent\": \"tuna.digital contact@tuna.digital\"\n      }\n    });\n    let data:FcooForecastData;\n    if (res.status === 200) {\n      data = await res.json();\n    } else {\n      console.log('error res: ', res);\n      errorHandler(`Error fetching FCOO data with url ${url}. status is: ${res.status}: ${res.statusText}`);\n    }\n    return data;\n  } catch (err) {\n    console.error(err);\n    errorHandler(`Error fetching FCOO data for spot with coordinates lat: ${lat}, long:${long}`);\n  }\n}\n\nexport default {getFcooForecast};","export const getApiUrl = () => {\n  return `${process.env.API_URL||'http://localhost:1337'}/graphql`\n}\n\nexport const getDefaultApiHeaders = () => {\n  return {\n    'content-type': 'application/json',\n    'Authorization': `Bearer ${process.env.API_TOKEN}`\n  }\n}\n\nexport default {getApiUrl, getDefaultApiHeaders}","import {FcooForecastInput} from \"../../types-kite-app/dist/es/Types\";\nimport errorHandler from \"../errorHandler\";\nimport { getApiUrl, getDefaultApiHeaders } from \"./api\";\nimport { fetch } from \"./fetch\";\n\ntype EntryID = string|number|undefined|null;\n\n\nexport const GET_FCOO_FORECAST = `\n  query GetFcooForecast($unique_constraint: String) {\n    fcooForecasts(pagination: {limit:1} filters:{unique_constraint:{eq: $unique_constraint}}) {\n      data{\n        id\n      }\n    }\n  }\n`;\n\nexport const CREATE_FCOO_FORECAST = `\n  mutation CreateForecast( $data: FcooForecastInput!) {\n    createFcooForecast(data: $data) {\n      data {\n        id\n      }\n    }\n  }\n`\n\n\nexport const UPDATE_FCOO_FORECAST = `\n  mutation UpdateForecast( \n    $id: ID! \n    $data: FcooForecastInput!) {\n    updateFcooForecast(\n      id: $id,\n      data: $data\n    ) {\n      data {\n        id\n      }\n    }\n  }\n`\n\n\n\nexport const doesFcooForecastExist = async (unique_constraint: string):Promise<EntryID> => {\n  /**\n   * Return string or number of entry ID if entry exists\n  */\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: GET_FCOO_FORECAST,\n        variables: {\n          unique_constraint\n        }\n      }),\n    });\n    const {data, errors} = await res.json();\n    if (errors) {\n      console.error(errors);\n      errorHandler(`Error getting fcoo forecast entry from unique_constraint: ${unique_constraint}`);\n    }\n    return data?.fcooForecasts?.data.length ? data?.fcooForecasts.data[0].id : null;\n  } catch (err) {\n    console.error(err);\n    errorHandler(`Error getting fcoo forecast entry from unique_constraint: ${unique_constraint}`);\n  }\n}\n\nexport const createFcooForecast = async (params: FcooForecastInput):Promise<EntryID> => {\n  console.log('create FcooForecast with timestamp', params.timestamp);\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: CREATE_FCOO_FORECAST,\n        variables: {\n          data: params\n        }\n      }),\n    });\n    const {data, errors} = await res.json();\n    if (errors) {\n      console.error(errors);\n      errorHandler(`Error creating FCOO forecast from params: ${params}`);\n    }\n    return data?.createFcooForecast?.data?.id;\n  }  catch (err) {\n    console.error(err);\n    errorHandler(`Error creating FCOO forecast from params: ${params}`);\n  }\n}\n\nexport const updateFcooForecast = async (id: string|number, params: FcooForecastInput):Promise<EntryID> => {\n  console.log('update FcooForecast with timestamp', params.timestamp);\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: UPDATE_FCOO_FORECAST,\n        variables: {\n          id, \n          data: params\n        }\n      }),\n    });\n    const {data, errors} = await res.json();\n    if (errors) {\n      console.error(errors);\n      errorHandler(`Error updating FCOO forecast from id: ${id} and params: ${params}`);\n    }\n    return data?.updateFcooForeCast?.data?.id;\n  }  catch (err) {\n    console.error(err);\n    errorHandler(`Error updating FCOO forecast from id: ${id} and params: ${params}`);\n  }\n}\n\nexport const createOrUpdateFcooForecast = async (params: FcooForecastInput):Promise<EntryID> => {\n  const forecastId = await doesFcooForecastExist(params.unique_constraint);\n  return forecastId ? updateFcooForecast(forecastId, params) : createFcooForecast(params);\n}\n\n\nexport default {createFcooForecast,updateFcooForecast,createOrUpdateFcooForecast};","import { SpotEntity } from \"../../types-kite-app/dist/es/Types\";\nimport errorHandler from \"../errorHandler\";\nimport { getApiUrl, getDefaultApiHeaders } from \"./api\";\nimport { fetch } from \"./fetch\";\n\nexport const SPOT_FIELDS = `\n  fragment SpotFields on SpotEntity  {\n    id\n    attributes {\n      name\n      lat\n      long\n    }\n  }\n`;\n\nexport const GET_SPOTS = `\n  ${SPOT_FIELDS}\n  query GetSpots {\n    spots(pagination: {pageSize: 10000}){\n      data {\n        ...SpotFields\n      }\n    }\n  }\n`;\n\nexport const getSpots = async ():Promise<SpotEntity[]> => {\n\n  // use this error message if something goeds wrong\n  const defaultErrMsg = `Error getting spots`;\n\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: GET_SPOTS,\n      }),\n    });\n    console.log('got from fetch', res);\n    const {data, errors} = await res.json();\n    console.log('data is', data);\n    if (errors) {\n      console.error(errors);\n      errorHandler(defaultErrMsg);\n    }\n    return data?.spots?.data;\n  } catch (err) {\n    console.error(err);\n    errorHandler(defaultErrMsg);\n  }\n}\n\nexport default getSpots;","import dotenv from \"dotenv\";\ndotenv.config();\n\nexport const isDev = ():boolean => process.env.NODE_ENV !== \"production\";\nexport const isProd = ():boolean => process.env.NODE_ENV === \"production\";\nexport const delay = (t:number) => new Promise((res) => {\n  setTimeout(res,t);\n});\n\nexport default {isDev, isProd};\n","import { fetch } from \"./fetch\";\nimport dotenv from \"dotenv\";\nimport errorHandler from \"../errorHandler\";\nimport { delay } from \"../utils/utils\";\n\ndotenv.config();\n\nconst apiUrl = process.env.YR_API_URL||'https://api.met.no/weatherapi/locationforecast/2.0';\n\ninterface YRForecastTimeseries {\n  time: string\n  data: {\n    instant: {\n      details: {\n        air_pressure_at_sea_level: number,\n        air_temperature: number,\n        air_temperature_percentile_10: number,\n        air_temperature_percentile_90: number,\n        cloud_area_fraction: number,\n        cloud_area_fraction_high: number,\n        cloud_area_fraction_low: number,\n        cloud_area_fraction_medium: number,\n        dew_point_temperature: number,\n        fog_area_fraction?: number,\n        relative_humidity: number,\n        ultraviolet_index_clear_sky?: number,\n        wind_from_direction: number,\n        wind_speed: number,\n        wind_speed_of_gust?: number,\n        wind_speed_percentile_10: number,\n        wind_speed_percentile_90: number,\n      }\n    },\n    next_12_hours?: {\n      summary: {\n        symbol_code: string,\n        symbol_confidence: string\n      },\n      details: {\n        probability_of_precipitation: number,\n      }\n    },\n    next_1_hours?: {\n      summary: {\n        symbol_code: string,\n      },\n      details: {\n        precipitation_amount: number,\n        precipitation_amount_max: number,\n        precipitation_amount_min: number,\n        probability_of_precipitation: number,\n        probability_of_thunder: number,\n      }\n    },\n    next_6_hours?: {\n      summary: {\n        symbol_code: string,\n      },\n      details: {\n        air_temperature_max: number,\n        air_temperature_min: number,\n        precipitation_amount: number,\n        precipitation_amount_max: number,\n        precipitation_amount_min: number,\n        probability_of_precipitation: number,\n      }\n    }\n  }\n}\n\nexport interface YRForecastData {\n  type: string,\n  geometry: {\n      type: string,\n      coordinates: number[]\n  },\n  properties: {\n    meta: {\n      updated_at: string,\n      units: {\n        air_pressure_at_sea_level: string,\n        air_temperature:  string,\n        air_temperature_max:  string,\n        air_temperature_min:  string,\n        air_temperature_percentile_10: string,\n        air_temperature_percentile_90: string,\n        cloud_area_fraction: string,\n        cloud_area_fraction_high: string,\n        cloud_area_fraction_low: string,\n        cloud_area_fraction_medium: string,\n        dew_point_temperature: string,\n        fog_area_fraction: string,\n        precipitation_amount: string,\n        precipitation_amount_max: string,\n        precipitation_amount_min: string,\n        probability_of_precipitation: string,\n        probability_of_thunder: string,\n        relative_humidity: string,\n        ultraviolet_index_clear_sky: string,\n        wind_from_direction: string,\n        wind_speed: string,\n        wind_speed_of_gust: string,\n        wind_speed_percentile_10: string,\n        wind_speed_percentile_90: string,\n      }\n    },\n    timeseries: YRForecastTimeseries[],\n  }\n}\n\nexport const getYrForecast = async (lat:number, long:number):Promise<YRForecastData> => {\n\n  // NOTE: we must not do this request to often (max 20/s), and not use over 4 decimals for lat,long. otherwise we receive 403\n  // https://developer.yr.no/doc/TermsOfService/\n\n  const url = `${apiUrl}/?lat=${lat.toFixed(4)}&lon=${long.toFixed(4)}`;\n\n  try {\n    console.log('fetching url', url);\n    const res = await fetch(url,{\n      headers: {\n        \"User-Agent\": \"tuna.digital contact@tuna.digital\"\n      }\n    });\n    let data:YRForecastData;\n    if (res.status === 200) {\n      data = await res.json();\n    } else {\n      console.log('error res: ', res);\n      errorHandler(`Error fetching YR data with url ${url}. status is: ${res.status}: ${res.statusText}`);\n    }\n\n    await delay(50); // need to add delay between every request to YR\n    return data;\n  } catch (err) {\n    console.error(err);\n    errorHandler(`Error fetching YR data for spot with coordinates lat: ${lat}, long:${long}`);\n  }\n}\n\nexport default {getYrForecast};","import { YrForecastInput } from \"../../types-kite-app/dist/es/Types\";\nimport errorHandler from \"../errorHandler\";\nimport { getApiUrl, getDefaultApiHeaders } from \"./api\";\nimport { fetch } from \"./fetch\";\n\ntype EntryID = string|number|undefined|null;\n\n\nexport const GET_YR_FORECAST = `\n  query GetYrForecast($unique_constraint: String) {\n    yrForecasts(pagination: {limit:1} filters:{unique_constraint:{eq: $unique_constraint}}) {\n      data{\n        id\n      }\n    }\n  }\n`;\n\nexport const CREATE_YR_FORECAST = `\n  mutation CreateForecast( $data: YrForecastInput!) {\n    createYrForecast(data: $data) {\n      data {\n        id\n      }\n    }\n  }\n`\n\n\nexport const UPDATE_YR_FORECAST = `\n  mutation UpdateForecast( \n    $id: ID! \n    $data: YrForecastInput!) {\n    updateYrForecast(\n      id: $id,\n      data: $data\n    ) {\n      data {\n        id\n      }\n    }\n  }\n`\n\n\n\nexport const doesYrForecastExist = async (unique_constraint: string):Promise<EntryID> => {\n  /**\n   * Return string or number of entry ID if entry exists\n  */\n\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: GET_YR_FORECAST,\n        variables: {\n          unique_constraint\n        }\n      }),\n    });\n    const {data, errors} = await res.json();\n    if (errors) {\n      console.error(errors);\n      errorHandler(`Error getting yr forecast entry from unique_constraint: ${unique_constraint}`);\n    }\n    return data?.yrForecasts?.data.length ? data?.yrForecasts.data[0].id : null;\n  } catch (err) {\n    console.error(err);\n    errorHandler(`Error getting yr forecast entry from unique_constraint: ${unique_constraint}`);\n  }\n}\n\nexport const createYrForecast = async (params: YrForecastInput):Promise<EntryID> => {\n  console.log('create YrForecast with timestamp', params.timestamp);\n\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: CREATE_YR_FORECAST,\n        variables: {\n          data: params\n        }\n      }),\n    });\n    const {data, errors} = await res.json();\n    if (errors) {\n      console.error(errors);\n      errorHandler(`Error creating YR forecast from params: ${params}`);\n    }\n    return data?.createYrForecast?.data?.id;\n  }  catch (err) {\n    console.error(err);\n    errorHandler(`Error creating YR forecast from params: ${params}`);\n  }\n\n}\n\nexport const updateYrForecast = async (id: string|number, params: YrForecastInput):Promise<EntryID> => {\n  console.log('update YrForecast with timestamp', params.timestamp, 'and id', id);\n  try {\n    const res = await fetch(getApiUrl(), {\n      method: 'POST',\n      headers: getDefaultApiHeaders(),\n      body: JSON.stringify({\n        query: UPDATE_YR_FORECAST,\n        variables: {\n          id, \n          data: params\n        }\n      }),\n    });\n    const {data, errors} = await res.json();\n    if (errors) {\n      console.error(errors);\n      errorHandler(`Error updating YR forecast from id: ${id} and params: ${params}`);\n    }\n    return data?.updateYrForeCast?.data?.id;\n  }  catch (err) {\n    console.error(err);\n    errorHandler(`Error updating YR forecast from id: ${id} and params: ${params}`);\n  }\n}\n\nexport const createOrUpdateYrForecast = async (params: YrForecastInput):Promise<EntryID> => {\n  const forecastId = await doesYrForecastExist(params.unique_constraint);\n  return forecastId ? updateYrForecast(forecastId, params) : createYrForecast(params);\n}\n\n\nexport default {createYrForecast,updateYrForecast,createOrUpdateYrForecast};","import dotenv from \"dotenv\";\nimport { SpotEntity } from \"../../types-kite-app/dist/es/Types\";\nimport errorHandler from \"../errorHandler\";\nimport { FcooForecastData, getFcooForecast } from \"../services/fcoo\";\nimport { createOrUpdateFcooForecast } from \"../services/fcooForecast\";\nimport getSpots from \"../services/spot\";\nimport { getYrForecast, YRForecastData } from \"../services/yr\";\nimport { createOrUpdateYrForecast } from \"../services/yrForecast\";\nimport { convertFcooForecastToInputs } from \"../utils/fcoo\";\nimport { convertYrForecastToInputs } from \"../utils/yr\";\n\ndotenv.config();\n\nexport interface RunProps {\n  body: any;\n  headers: any;\n}\n\nexport const processYrSpot = async (spot: SpotEntity) => {\n  let yrForecast: YRForecastData;\n  try{\n    yrForecast = await getYrForecast(spot.attributes.lat, spot.attributes.long);\n  } catch(err) {\n    console.error(err);\n    errorHandler(\"Failed to fetch YR spot data from spot\", spot.attributes.name);\n  }\n\n  // covert data to yr forecast inputs\n  const timeseries = convertYrForecastToInputs(yrForecast);\n  // loop everty spot data entitiy to save info\n  for(let i=0;i<timeseries.length;i++) {\n    try {\n      await createOrUpdateYrForecast(timeseries[i]);\n    } catch(err) {\n      console.log(\"Failed to create or update YR forecast entry:\");\n      console.error(err);\n    }\n  }\n}\n\nexport const processFcooSpot = async (spot: SpotEntity) => {\n  let forecast: FcooForecastData;\n  try{\n    forecast = await getFcooForecast(spot.attributes.lat, spot.attributes.long);\n  } catch(err) {\n    console.error(err);\n    errorHandler(\"Failed to fetch FCOO spot data from spot\", spot.attributes.name);\n  }\n\n  // covert data to yr forecast inputs\n  const timeseries = convertFcooForecastToInputs(forecast);\n  // loop everty spot data entitiy to save info\n  for(let i=0;i<timeseries.length;i++) {\n    try {\n      await createOrUpdateFcooForecast(timeseries[i]);\n    } catch(err) {\n      console.log(\"Failed to create or update FCOO forecast entry:\");\n      console.error(err);\n    }\n  }\n}\n\nexport const processSpot = async (spot:SpotEntity) => {\n  await processYrSpot(spot);\n  await processFcooSpot(spot);\n}\n\nexport const fetchForecast = async (req?:RunProps):Promise<boolean> => {\n  let params = {};\n  if (req?.body) {\n    params = typeof req.body === \"string\" ? JSON.parse(req.body) : req.body;\n  }\n  console.log(\"Running job from params\", params);\n\n  let spots:SpotEntity[] = [];\n  // get all spots.\n  try {\n    spots = await getSpots();\n  } catch(err) {\n    console.error(err);\n    errorHandler(\"Failed to fetch spots\");\n  }\n\n  // for each spot, get forecast\n  for (let i=0; i<spots.length;i++) {\n    await processSpot(spots[i]);\n  }\n\n  // returning dummy promise for now\n  console.log('Successfully finished fetching data for all Spots')\n  return await new Promise((res) => res(true));\n};\n\nexport default {fetchForecast};\n","import { YrForecastInput } from \"../../types-kite-app/dist/es/Types\";\nimport { YRForecastData } from \"../services/yr\";\n\nconst symbolCodeToStr = (code:string):string|undefined => {\n  // if we need some kind of conversion, do it here... https://api.met.no/weatherapi/weathericon/2.0/documentation\n  return undefined;\n}\n\nexport const convertYrForecastToInputs = (forecast:YRForecastData):YrForecastInput[] => {\n  return forecast.properties.timeseries.map((t) => {\n    return {\n      forecast: {\n        air_temperature: t.data.instant.details.air_temperature,\n        probability_of_precipitation: t.data.next_1_hours?.details.probability_of_precipitation,\n        probability_of_thunder: t.data.next_1_hours?.details.probability_of_thunder,\n        symbol: symbolCodeToStr(t.data.next_1_hours?.summary?.symbol_code)||\"\",\n        symbol_code: t.data.next_1_hours?.summary?.symbol_code,\n        symbol_confidence: t.data.next_12_hours?.summary?.symbol_confidence,\n        wind_from_direction: t.data.instant.details.wind_from_direction,\n        wind_speed: t.data.instant.details.wind_speed,\n        wind_speed_of_gust: t.data.instant.details.wind_speed_of_gust||0,\n      },\n      provider_updated_at: forecast.properties?.meta?.updated_at,\n      timestamp: t.time,\n      unique_constraint: `${t.time}_${forecast.geometry.coordinates.reduce((prev,curr)=>`${prev}${curr}`, \"\")}` \n    }\n  });\n}\n\nexport default {convertYrForecastToInputs}","import { FcooForecastInput } from \"../../types-kite-app/dist/es/Types\";\nimport { FcooForecastData } from \"../services/fcoo\";\n\nexport const covertFcooWindDirToDegrees = (windDir:number) => {\n  /**  \n    Fcoo windirections goes from -15 -> 15 . needs to be converted to 0-360 degrees.\n    We multiple windDir with 12 (factor) as 360 / 30 = 12. 30 is the span from -15 -> 15 possible values\n\n    If multiplied number (degrees) is < 0, we calculate 360 - degrees to get the value. \n    Otherwise degrees is result\n  */\n  const factor = 12;\n  return windDir < 0 ? 360 - (windDir * factor) : windDir * factor;\n}\n\nexport const convertFcooForecastToInputs = (forecast:FcooForecastData):FcooForecastInput[] => { \n  return forecast.WindSpeed.windspeed.time.map((t,idx) => {\n    return {\n      forecast: {\n        air_temperature: forecast.AirTemperature.TMP.data[idx],\n        probability_of_precipitation: forecast.Precipitation.precip.data[idx],\n        probability_of_thunder: -1,\n        symbol: \"\",\n        symbol_code: \"\",\n        symbol_confidence: \"\",\n        wind_from_direction: covertFcooWindDirToDegrees(forecast.Wind.UGRD.data[idx]), // TODO: check that this fits correctly with fcoo visualization!!\n        wind_speed: forecast.WindSpeed.windspeed.data[idx],\n        wind_speed_of_gust: -1,\n      },\n      timestamp: t,\n      unique_constraint: `${t}_${forecast.WindSpeed.windspeed.lat}${forecast.WindSpeed.windspeed.lon}` \n    }\n  });\n}\n\nexport default {convertFcooForecastToInputs}","export const surfability = () => {\n  console.log(\"this should calculate surfability for a spot\");\n}\n\nexport default {surfability};","import * as fetchForecastJobs from \"./fetchForecast\";\nimport * as surfabilityJobs from \"./surfability\";\n\nexport const fetchForecast = fetchForecastJobs.fetchForecast;\nexport const surfability = surfabilityJobs.surfability;\n\nexport default {fetchForecast,surfability};"],"names":["nodeFetch","realFetch","default","fetch","url","options","test","call","this","ponyfill","module","exports","Headers","Request","Response","fs","path","os","version","LINE","_log","message","console","log","DotenvModule","config","dotenvPath","resolve","process","cwd","encoding","debug","Boolean","override","envPath","join","homedir","slice","parsed","parse","readFileSync","Object","keys","forEach","key","prototype","hasOwnProperty","env","e","error","src","obj","match","lines","toString","replace","exec","value","trim","maybeQuote","punycode","mappingTable","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","normalize","str","split","map","s","findStatus","val","start","end","length","mid","Math","floor","target","regexAstralSymbols","countSymbols","string","combiningMarksRegex","validateLabel","label","processing_option","substr","toUnicode","indexOf","search","len","i","status","codePointAt","processing","domain_name","useSTD3","result","hasError","processed","codePoint","String","fromCodePoint","apply","mapChars","labels","validation","toASCII","verifyDnsLength","l","total","domain","conversions","sign","x","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","opts","enforceRange","Number","isFinite","TypeError","abs","isNaN","clamp","round","evenRound","treatNullAsEmptyString","c","undefined","S","n","U","charCodeAt","push","d","a","b","Date","RegExp","usm","implementation","constructor","constructorArgs","base","parsedBase","basicURLParse","parsedURL","baseURL","_url","href","serializeURL","v","origin","serializeURLOrigin","protocol","scheme","stateOverride","username","cannotHaveAUsernamePasswordPort","setTheUsername","password","setThePassword","host","port","serializeHost","serializeInteger","cannotBeABaseURL","hostname","pathname","query","input","substring","hash","fragment","toJSON","utils","Impl","impl","implSymbol","URL","arguments","args","setup","is","defineProperty","get","set","enumerable","configurable","create","privateData","wrapper","wrapperSymbol","interface","expose","Window","Worker","tr46","specialSchemes","ftp","file","gopher","http","https","ws","wss","failure","Symbol","ucs2","decode","at","idx","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","buffer","toLowerCase","isWindowsDriveLetterString","isSpecialScheme","isSpecial","percentEncode","hex","toUpperCase","isC0ControlPercentEncode","extraPathPercentEncodeSet","Set","isPathPercentEncode","has","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","buf","Buffer","utf8PercentEncode","parseIPv4Number","R","charAt","parseInt","parseHost","isSpecialArg","address","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","number","swaps","temp","parseIPv6","output","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","ipv4Host","parts","pop","numbers","part","ipv4","counter","parseIPv4","serializeIPv4","Array","arr","maxIdx","maxLen","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","includesCredentials","URLStateMachine","encodingOverride","parseError","res","trimControlChars","trimTabAndNewline","state","atFlag","arrFlag","passwordTokenSeenFlag","ret","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","shift","excludeFragment","parseURL","tuple","serializeOrigin","integer","mixin","source","getOwnPropertyNames","getOwnPropertyDescriptor","wrapperForImpl","implForWrapper","require","Readable","BUFFER","TYPE","Blob","blobParts","buffers","size","element","ArrayBuffer","isView","from","byteOffset","byteLength","concat","type","text","Promise","arrayBuffer","ab","stream","readable","_read","relativeStart","relativeEnd","max","min","span","slicedBuffer","blob","FetchError","systemError","Error","code","errno","captureStackTrace","convert","defineProperties","toStringTag","writable","name","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","isBuffer","disturbed","on","err","consumeBody","_this4","reject","alloc","accum","accumBytes","abort","resTimeout","setTimeout","chunk","clearTimeout","append","delete","getAll","sort","clone","instance","p1","p2","bodyUsed","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","then","ct","headers","assign","json","_this2","JSON","textConverted","_this3","charset","convertBody","mixIn","proto","desc","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","MAP","init","rawHeaders","raw","headerNames","headerName","method","iterator","pairs","pair","callback","thisArg","getHeaders","_pairs$i","createHeadersIterator","values","kind","k","entries","INTERNAL","HeadersIteratorPrototype","index","setPrototypeOf","next","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","INTERNALS$1","STATUS_CODES","contentType","statusText","ok","redirected","INTERNALS$2","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","inputBody","signal","isAbortSignal","redirect","follow","agent","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","dest","endsWith","request","contentLengthValue","totalBytes","getNodeRequestOptions","send","response","destroy","emit","aborted","abortAndFinalize","finalize","req","reqTimeout","removeEventListener","addEventListener","once","socket","isArray","createHeadersLenient","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","finishFlush","write","writeToStream","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","o","prop","r","props","msg","apiUrl","FCOO_API_URL","getFcooForecast","lat","long","toFixed","data","getApiUrl","API_URL","getDefaultApiHeaders","API_TOKEN","createFcooForecast","params","timestamp","stringify","variables","errors","id","updateFcooForecast","updateFcooForeCast","GET_SPOTS","defaultErrMsg","spots","YR_API_URL","getYrForecast","createYrForecast","updateYrForecast","updateYrForeCast","processYrSpot","spot","attributes","yrForecast","timeseries","forecast","properties","t","air_temperature","instant","details","probability_of_precipitation","next_1_hours","probability_of_thunder","symbol","summary","symbol_code","symbol_confidence","next_12_hours","wind_from_direction","wind_speed","wind_speed_of_gust","provider_updated_at","meta","updated_at","time","unique_constraint","geometry","coordinates","reduce","prev","curr","yrForecasts","forecastId","processFcooSpot","WindSpeed","windspeed","AirTemperature","TMP","Precipitation","precip","windDir","Wind","UGRD","lon","convertFcooForecastToInputs","fcooForecasts","processSpot","fetchForecast","surfability"],"sourceRoot":""}